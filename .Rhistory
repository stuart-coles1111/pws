activity2_game_sim_rep(rand_Theta = TRUE)
activity2_game_sim_rep(rand_Theta = TRUE)
activity2_game_sim_rep(rand_Theta = TRUE)
activity2_game_sim_rep(rand_Theta = TRUE)
activity2_game_sim_rep(rand_Theta = TRUE)
activity2_game_sim_rep(rand_Theta = TRUE)
library(shiny); runApp('inst/shiny/app_horse_race_game.R')
library(dpltr)
library(pws)
runApp('inst/shiny/app_horse_race_game.R')
runApp('inst/shiny/app_horse_race_game.R')
runApp('inst/shiny/app_horse_race_game.R')
runApp('inst/shiny/app_horse_race_game.R')
library(JDP)
jdp_tournament()
PL_goals
PL_goals=read.csv('~/GitHub/Playing-With-Statistics/book/book_r/book/data/PLpts25.csv')
PL_goals
PL_points=read.csv('~/GitHub/Playing-With-Statistics/book/book_r/book/data/PLpts25.csv')
PL_goals=read.csv('~/GitHub/Playing-With-Statistics/book/book_r/book/data/PLtg25.csv')
usethis::use_data(PL_points)
usethis::use_data(PL_points,overwrite=TRUE)
usethis::use_data(PL_goals,overwrite=TRUE)
dim(PL_goals)
dim(PL_pts)
dim(PL_points)
PL_points[1,]
PL_points=PL_points[,-1]
PL_points[1,]
usethis::use_data(PL_points,overwrite=TRUE)
dim(PL_points)
f<-function(){
PLpts_df <-read.csv('~/GitHub/Playing-With-Statistics/book/book_r/book/data/PLpts25.csv')
PLpts_df$team1_points <- ifelse(PLpts_df$team1_goals > PLpts_df$team2_goals, 3, ifelse(PLpts_df$team1_goals == PLpts_df$team2_goals, 1, 0))
PLpts_df$team2_points <- ifelse(PLpts_df$team2_goals > PLpts_df$team1_goals, 3, ifelse(PLpts_df$team1_goals == PLpts_df$team2_goals, 1, 0))
points_half1<-c()
points_half2<-c()
season <- c()
tteam <- c()
seasons <- unique(PLpts_df$season)
for(j in 1:length(seasons)){
data_season<-subset(PLpts_df,season==seasons[j])
teams<-sort(unique(data_season$team1_name))
for(i in 1:length(teams)){
team <- teams[i]
data_team <- subset(data_season, team1_name==team | team2_name==team)
data_team$points = ifelse(team==data_team$team1_name, data_team$team1_points,  data_team$team2_points)
points_half1 <- c(points_half1,sum(data_team$points[1:19]))
points_half2 <- c(points_half2,sum(data_team$points[20:38]))
season <- c(season,seasons[j])
tteam <- c(tteam, team)
}
}
df<-data.frame(season = season, team = tteam, points_half1 = points_half1, points_half2 = points_half2)
df
}
f()
PL_points=f()
usethis::use_data(PL_points,overwrite=TRUE)
rm(list=ls())
load("~/pws/data/activity4_quiz_answers.rda")
ls()
activity4_quiz_answers=activity5_quiz_answers
usethis::use_data(activity4_quiz_answers)
usethis::use_data(activity4_quiz_answers,ovverwrite=TRUE)
usethis::use_data(activity4_quiz_answers,overwrite=TRUE)
load("~/pws/data/activity4_responses_sm.rda")
ls()
activity4_responses_sm = activity5_responses_sm
usethis::use_data(activity4_responses_sm,overwrite=TRUE)
detach("package:pws", unload = TRUE)
library(pws)
activity6_execute()
mski_sim
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
(ggplot2::ggplot(d1_r, ggplot2::aes(value, Jump_Length)) +ggplot2::facet_wrap(~variable) +
ggplot2::geom_point(colour = "steelblue") + ggplot2::geom_smooth(method=lm, colour = "red")) +
ggplot2::ylab("Jump Length (metres)") + ggplot2::theme(strip.text = ggplot2::element_text(size=25))
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
d1_r[1,]
activity6_execute()
activity6_execute()
activity6_execute()
my_round(1,2)
my_round <- function(x, dp){
dp <- paste0("%.",dp,"f")
sprintf(dp, x)
}
my_round(1,2)
my_round(1,2)
my_round(1,10)
my_round(40,2)
my_round(40,4)
signif
sprintf
help(sprintf)
my_round
my_round <- function(x, dp){
dp <- paste0("%.",dp,"d")
sprintf(dp, x)
}
my_round(40,4)
sprintf("%e", pi)
sprintf("%g", pi)
sprintf("%1.0f", pi)
sprintf("%5.1f", pi)
sprintf("%e", pi)
sprintf("%+f", pi)
sprintf("%05.1f", pi)
sprintf("%2f", pi)
sprintf("%2.f", pi)
sprintf("%.f", pi)
my_round <- function(x, dp){
dp <- paste0("%.",dp,"f")
sprintf(dp, x)
}
my_round(pi,3)
my_round(pi,4)
my_round(pi,1)
my_round(pi,0)
my_round(3.4,0)
my_round(3.4,1)
my_round(3.4,2)
my_round(.000012340000, 2)
signif
signif(2,2)
my_round(.123400000000, 2)
my_round2 <- function str_significant(x, sigdig){
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, sigdigits=sigdig)
n <- length(@sprintf("%d", abs(x)))              # length of the integer part
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, sigdigits=sigdig)
n <- length(sprintf("%d", abs(x)))              # length of the integer part
if (x ≤ -1 || x ≥ 1)
n <- length(sprintf("%d", abs(x)))
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, sigdigits=sigdig)
n <- length(sprintf("%d", abs(x)))              # length of the integer part
if (x ≤ -1 |x ≥ 1)
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, sigdigits=sigdig)
n <- length(sprintf("%d", abs(x)))    # length of the integer part
if (x ≤ -1 |x ≥ 1)
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, sigdigits=sigdig)
n <- length(sprintf("%d", abs(x)))    # length of the integer part
}
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, sigdigits=sigdig)
n <- length(sprintf("%d", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(Int, -log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
return @sprintf("%.*f", decimals, x)
}
my_round2(.000012340000, 2)
signif
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits=sigdig)
n <- length(sprintf("%d", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(Int, -log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
return @sprintf("%.*f", decimals, x)
}
my_round2(.000012340000, 2)
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits=sigdig)
n <- length(sprintf("%f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(Int, -log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
return @sprintf("%.*f", decimals, x)
}
my_round2(.000012340000, 2)
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits=sigdig)
n <- length(sprintf("%f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
return @sprintf("%.*f", decimals, x)
}
my_round2(.000012340000, 2)
sprintf("%1.0f", pi)
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits=sigdig)
n <- length(sprintf("%1.0f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
return @sprintf("%.*f", decimals, x)
}
sprintf("%1.0f", pi)
my_round2(.000012340000, 2)
debugonce(my_round2)
my_round2(.000012340000, 2)
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits=sigdig)
n <- length(sprintf("%1.0f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
dp <- paste0("%.",decimals,"f")
return (sprintf("%.*f", dp, x)
}
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits=sigdig)
n <- length(sprintf("%1.0f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
dp <- paste0("%.",decimals,"f")
return (sprintf("%.*f", dp, x))
}
my_round2(.000012340000, 2)
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits=sigdig)
n <- length(sprintf("%1.0f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
dp <- paste0("%.",decimals,"f")
return (sprintf(dp, x))
}
my_round2(.000012340000, 2)
my_round2(.123400000000, 2)
my_round2(1.234, 2)
my_round2(1234000.000, 2)
my_round2(1234000.00, 2)
my_round2(1234000, 2)
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
browser()
x <- signif(x, digits=sigdig)
n <- length(sprintf("%1.0f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
dp <- paste0("%.",decimals,"f")
return (sprintf(dp, x))
}
my_round2(1234000, 2)
x
length(sprintf("%1.0f", abs(x)))
sprintf("%1.0f", abs(x))
strlength(sprintf("%1.0f", abs(x)))
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
browser()
x <- signif(x, digits=sigdig)
n <- nchar(sprintf("%1.0f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
dp <- paste0("%.",decimals,"f")
return (sprintf(dp, x))
}
my_round2(1234000, 2)
nchar(sprintf("%1.0f", abs(x)))
my_round2 <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits=sigdig)
n <- nchar(sprintf("%1.0f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
dp <- paste0("%.",decimals,"f")
return (sprintf(dp, x))
}
my_round2 (.000012340000, 2)
my_round2((.123400000000, 2)  )
my_round2((.123400000000, 2)
my_round2(.123400000000, 2)
my_round2(40, 1)
my_round2(41, 1)
my_round(50.4,2)
my_round2(50.4,2)
my_round2(500,2)
my_round(6.70, 2)
my_round2(6.70, 2)
my_round2(6.70, 3)
signif
my_round(40,1)
my_round(400,2)
my_round(1234000.000, 2)
my_round2(1234000.000, 2)
my_signif <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits = sigdig)
n <- nchar(sprintf("%1.0f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals = max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros = ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals = sigdig + Nzeros
}
dp <- paste0("%.",decimals,"f")
return (sprintf(dp, x))
}
my_signif(.000012340000, 2)
my_signif(123400000000, 2)
my_signif(.123400000000, 2)
my_signif(1.234, 2)
my_signif(1234000.000, 2)
my_signif(12345, 6)
my_round <- function(x, dp){
dp <- paste0("%.",dp,"f")
num <- sprintf(dp, x)
if(substr(num, 1, 1) == "-") num <- paste0("-", num)
num
}
my_round(3.14,2)
my_round(-3.14,2)
my_signif <- function(x, sigdig){
if(x == 0) return ("0")
x <- signif(x, digits = sigdig)
n <- nchar(sprintf("%1.0f", abs(x)))    # length of the integer part
if (x <= -1 || x>= 1)
decimals <- max(sigdig - n, 0)               # 'sig - n' decimals needed
else{
Nzeros <- ceiling(-log10(abs(x))) - 1      # No. zeros after decimal point before first number
decimals <- sigdig + Nzeros
}
dp <- paste0("%.", decimals, "f")
num <- sprintf(dp, x)
if(substr(num, 1, 1) == "-") num <- paste0("-", num)
return(num)
}
my_signif(-3.14,2)
estimate_choice <-
function(theta = 0,
sd = 1,
n_dat = 10,
seed = NULL) {
if(!is.null(seed)) set.seed(seed)
x <- rnorm(n_dat, theta, sd) %>% exp
estimate <- c()
estimate[1] <- mean(x)
y <- log(x)
estimate[2] <- exp(mean(y) + var(y)/2)
estimate <- estimate %>% round(3)
df <-
data.frame("Estimate A" = estimate[1], "Estimate B" = estimate[2], row.names = "")
return(df)
}
estimate_choice ()
estimate_choice <-
function(theta = 0,
sd = 1,
n_dat = 10,
seed = NULL) {
if(!is.null(seed)) set.seed(seed)
x <- rnorm(n_dat, theta, sd) %>% exp
estimate <- c()
estimate[1] <- mean(x)
y <- log(x)
estimate[2] <- exp(mean(y) + var(y)/2)
estimate <- estimate %>% round(3)
df <-
data.frame("Estimate~A" = estimate[1], "Estimate B" = estimate[2], row.names = "")
return(df)
}
estimate_choice ()
estimate_choice <-
function(theta = 0,
sd = 1,
n_dat = 10,
seed = NULL) {
if(!is.null(seed)) set.seed(seed)
x <- rnorm(n_dat, theta, sd) %>% exp
estimate <- c()
estimate[1] <- mean(x)
y <- log(x)
estimate[2] <- exp(mean(y) + var(y)/2)
estimate <- estimate %>% round(3)
df <-
data.frame("Estimate_A" = estimate[1], "Estimate_B" = estimate[2], row.names = "")
return(df)
}
estimate_choice ()
score_plot
dice_mean_series()
binom_comparison(n = 30, probs = c(0.2, 0.5), nsim= c(25, 250))
Season <- c(
"1992–93", "1993–94", "1994–95", "1995–96", "1996–97", "1997–98", "1998–99",
"1999–00", "2000–01", "2001–02", "2002–03", "2003–04", "2004–05", "2005–06",
"2006–07", "2007–08", "2008–09", "2009–10", "2010–11", "2011–12", "2012–13",
"2013–14", "2014–15", "2015–16", "2016–17", "2017–18", "2018–19", "2019–20",
"2020–21", "2021–22", "2022–23", "2023–24", "2024–25")
cards  <- c(
35, 33, 71, 59, 43, 69, 73, 68, 64, 66, 71, 56, 60, 75, 53, 61, 63, 68, 64, 66,
52, 53, 71, 59, 41, 39, 47, 44, 47, 42, 29, 58, 52
)
df <- data.frame(Season, cards)
matches <- c(rep(462, 3), rep(380, nrow(df) - 3))
df <- data.frame(Season, cards, matches)
df$rate=df$cards/df$matches
PL_cards <- df
usethis::use_data(PL_cards)
dim(PL_cards)
PL_cards
PL_cards
PL_goals
nrow(PL_goals)
PL_predicted_goals
dim(PL_predicted_goals)
254.5 - 194
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
round(6.5,1)
round(6.5,0)
round(6.9,0)
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
activity6_execute()
player_names
activity7_player_names
player_names=activity7_player_names
usethis::use_data(player_names,overwrite=TRUE)
do_trick()
do_trick()
do_trick()
do_trick()
do_trick()
do_trick()
do_trick()
single_trick()
single_trick()
single_trick()
single_trick()
do_trick()
single_trick()
single_trick()
single_trick()
single_trick()
single_trick()
single_trick()
single_trick()
single_trick()
single_trick()
single_trick()
multi_trick()
(13*12*11 + 13*39*12 + 39*13*12 + 39*38*13)/(52*51*50)
blurred <- image_blur(img, radius = 5, sigma = 5)
library(magick)
blurred <- image_blur(img, radius = 5, sigma = 5)
